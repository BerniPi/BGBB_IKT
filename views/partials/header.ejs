<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventardatenbank</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
<style>
/* NEU: Globale Schriftgröße für die gesamte Anwendung reduzieren 
html {
    font-size: 0.85rem; 
}
*/
.modal-dialog-scrollable .modal-body {
  overflow-y: auto !important;
  max-height: calc(100vh - var(--bs-modal-margin) * 2 - 120px);
}
.modal {
  overflow-x: hidden;
}

/* Mobil: sicherstellen, dass Body sauber scrollt und Footer sichtbar bleibt */
@media (max-width: 576px) {
  #deviceModal .modal-content {
    height: 100dvh;           /* dynamische Höhe inkl. Mobile-URL-Bar */
    display: flex;
    flex-direction: column;
  }
  #deviceModal .modal-body {
    flex: 1 1 auto;
    overflow-y: auto;
  }
  #deviceModal .modal-footer {
    position: sticky;
    bottom: 0;
    background: var(--bs-body-bg);
    box-shadow: 0 -2px 8px rgba(0,0,0,.06);
    z-index: 1;
  }
}
</style>

<script>
  (function() {
    // --- Hier können Sie die Standards anpassen ---
    const DEFAULT_ZOOM = 0.9; // Standard-Zoom (in rem)
    const ZOOM_STEP = 0.05;   // Schrittweite pro Klick
    const MIN_ZOOM = 0.7;     // Minimaler Zoom
    const MAX_ZOOM = 1.2;     // Maximaler Zoom
    const STORAGE_KEY = 'globalZoomLevel';
    // ----------------------------------------------

    // Funktion, die den Zoom auf das <html>-Element anwendet
    function applyZoom(size) {
      const zoomSize = parseFloat(size).toFixed(2);
      document.documentElement.style.fontSize = zoomSize + 'rem';
    }

    // Funktion, die den aktuellen Wert aus dem Speicher holt
    function getCurrentZoom() {
      const storedSize = localStorage.getItem(STORAGE_KEY);
      return parseFloat(storedSize || DEFAULT_ZOOM);
    }

    // Funktion zum Vergrößern
    function zoomIn() {
      let currentSize = getCurrentZoom();
      currentSize = Math.min(MAX_ZOOM, currentSize + ZOOM_STEP);
      localStorage.setItem(STORAGE_KEY, currentSize);
      applyZoom(currentSize);
    }

    // Funktion zum Verkleinern
    function zoomOut() {
      let currentSize = getCurrentZoom();
      currentSize = Math.max(MIN_ZOOM, currentSize - ZOOM_STEP);
      localStorage.setItem(STORAGE_KEY, currentSize);
      applyZoom(currentSize);
    }

    // 1. Zoom beim Laden der Seite sofort anwenden (verhindert "flackern")
    applyZoom(getCurrentZoom());

    // 2. Event-Listener an die Knöpfe hängen, sobald das HTML geladen ist
    document.addEventListener('DOMContentLoaded', () => {
      const zoomInBtn = document.getElementById('zoom-in-btn');
      const zoomOutBtn = document.getElementById('zoom-out-btn');

      if (zoomInBtn) {
        zoomInBtn.addEventListener('click', zoomIn);
      }
      if (zoomOutBtn) {
        zoomOutBtn.addEventListener('click', zoomOut);
      }
    });
  })();
</script>

</head>
<body>
